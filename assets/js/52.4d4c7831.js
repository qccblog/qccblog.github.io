(window.webpackJsonp=window.webpackJsonp||[]).push([[52],{635:function(s,a,n){"use strict";n.r(a);var t=n(17),e=Object(t.a)({},(function(){var s=this,a=s.$createElement,n=s._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("p",[s._v("使用以下安装过程，可以搭建一个基本可用的开发环境，在自己需求的基础上选择需要安装的项目或者安装新的项目。")]),s._v(" "),n("ol",[n("li",[n("p",[s._v("安装openssh，方便使用putty之类工具连接"),n("br"),s._v(" "),n("code",[s._v("sudo apt-get install openssh-server")])])]),s._v(" "),n("li",[n("p",[s._v("安装vim，自带的vi有方向键不能用等问题"),n("br"),s._v(" "),n("code",[s._v("sudo apt-get install vim")])])]),s._v(" "),n("li",[n("p",[s._v("设置root用户密码，默认是没有root用户密码的"),n("br"),s._v(" "),n("code",[s._v("sudo passwd root")])])]),s._v(" "),n("li",[n("p",[s._v("修改某个用户使用sudo不用密码，默认每次登录的第一次使用sudo都是需要输入密码")]),s._v(" "),n("div",{staticClass:"language-sh line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#完全进入root用户环境，然后修改/etc/sudoers文件")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("su")]),s._v(" - root\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#修改sudoers文件权限，默认不能写")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /etc\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("777")]),s._v(" sudoers\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#修改文件内容，使用以下把用户加进去")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#用户名     ALL=(ALL)NOPASSWD: ALL")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" sudoers\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#修改会sudoers文件权限，不然sudo不能使用")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("440")]),s._v(" sudoers\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#使用Ctrl + d退出root，这时候直接使用sudo就行了，不需要再输入密码")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br")])])]),s._v(" "),n("li",[n("p",[s._v("安装samba用于共享文件夹，在虚拟机中开发的时候，共享文件夹就能在原系统中直接使用编辑器打开了。"),n("br"),s._v(" "),n("code",[s._v("sudo apt-get install samba")]),s._v("修改/etc/samba/smb.conf配置Samba，在smb.conf文件中底部添加如下内容：")]),s._v(" "),n("div",{staticClass:"language-sh line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("share"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("comment")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("this is Linux share directory\n"),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("path")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/home/share\nbrowseable "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("yes")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("public")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("no\n"),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("writable")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("yes\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("p",[s._v("设置smb用户密码，注意该用户名需要是系统中已经存在的用户。"),n("br"),s._v(" "),n("code",[s._v("sudo smbpasswd -a \\[username\\]")]),s._v("\n在Windows的文件夹地址栏输入"),n("code",[s._v("\\\\内网ip")]),s._v("出现共享文件夹就会提示输入用户密码，然后就可以共享文件夹了。")])]),s._v(" "),n("li",[n("p",[s._v("使用静态ip，如果使用的虚拟机是VMware，最好在虚拟机的设置里面把网络模式改成桥接模式"),n("br"),s._v("\n修改"),n("code",[s._v("/etc/network/interfaces")]),s._v("文件，增加")]),s._v(" "),n("div",{staticClass:"language-sh line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[s._v("auto eth0\niface eth0 inet static\naddress "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.1")]),s._v(".0.128\nnetmask "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("255.255")]),s._v(".255.0\ngateway "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.1")]),s._v(".0.1\ndns-nameserver "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("8.8")]),s._v(".8.8\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("p",[s._v("注意，eth0部分是网卡编号，VMware虚拟机多为ens33，可以使用ifconfig查看")])]),s._v(" "),n("li",[n("p",[s._v("配置php开发环境")]),s._v(" "),n("div",{staticClass:"language-sh line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#安装php和Apache服务器")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" php\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" apache2\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" libapache2-mod-php7.0\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("p",[s._v("修改Apache2的使用的mods"),n("br"),s._v("\n在/etc/apache2/mods-enabled/中使用"),n("code",[s._v("sudo cp -s ../mods-available/选项 ./")]),s._v("软链接过来"),n("br"),s._v("\n根据php开发需要的功能进行选择性安装"),n("br"),s._v(" "),n("code",[s._v("sudo apt-get install php-cli php-common php-gd php-mysql php-curl php-xml php-memcache php-intl php-mongodb php-memcached phpmyadmin")]),s._v("\n问题："),n("br"),s._v("\n1.PHP Fatal error: Undefined class constant ‘MYSQL_ATTR_INIT_COMMAND’"),n("br"),s._v("\n如果使用PDO接口来访问MySQL数据库，但是PDO在php.ini配置默认是关闭的，开启php.ini配置中"),n("code",[s._v("php_pdo_mysql.dll")]),s._v("即可（去掉前面的；字符）")])]),s._v(" "),n("li",[n("p",[s._v("安装node和npm，默认版本都比较老"),n("br"),s._v(" "),n("code",[s._v("sudo apt-get install nodejs-legacy npm")])])]),s._v(" "),n("li",[n("p",[s._v("安装svn"),n("br"),s._v(" "),n("code",[s._v("sudo apt install subversion")])])]),s._v(" "),n("li",[n("p",[s._v("安装git"),n("br"),s._v(" "),n("code",[s._v("sudo apt install git")])])]),s._v(" "),n("li",[n("p",[s._v("配置多域名Apache2"),n("br"),s._v("\n修改/etc/apache2/apache2.conf文件，使用shift+g到文件最底部，将"),n("br"),s._v(" "),n("code",[s._v("IncludeOptional sites-enabled/*.conf")]),s._v("的.conf删除以便Apache2能够读取sites-enabled下任意文件名的域名配置"),n("br"),s._v("\n在/etc/apache2/sites-available里面新建文件配置新的域名，一般以域名为文件名以方便识别，一种格式如下：")]),s._v(" "),n("div",{staticClass:"language-sh line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("Directory "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/var/www/site"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\nOptions -Indexes\nAllowOverride All\n\nRequire all granted\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("/Directory"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("VirtualHost _default_:8"),n("span",{pre:!0,attrs:{class:"token operator"}},[n("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("0")]),s._v(">")]),s._v("\nDocumentRoot /var/www/site\nServerName www.test.com\nErrorLog /var/www/site/log/error.log\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("/VirtualHost"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br")])]),n("p",[s._v("进入/etc/apache2/sites-enabled/，使用"),n("code",[s._v("sudo cp -s ../sites-available/www.test.com ./")]),s._v("软链接过来，重启Apache即可")])]),s._v(" "),n("li",[n("p",[s._v("安装mongodb"),n("br"),s._v(" "),n("code",[s._v("sudo apt-get install mongodb")]),s._v("\n配置mongodb可以远程访问，编辑/etc/mongodb.conf文件"),n("br"),s._v("\n把"),n("code",[s._v("bind 127.0.0.1")]),s._v("改成 "),n("code",[s._v("bind 0.0.0.0")])]),s._v(" "),n("div",{staticClass:"language-sh line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##给数据库添加用户")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#进入mongo数据库")]),s._v("\nmongo\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#选择数据库")]),s._v("\nuse db_name\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#添加用户名密码")]),s._v("\ndb.addUser"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'user'")]),s._v(", "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'password'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##添加整个mongo的管理员账户")]),s._v("\nuse admin\ndb.addUser"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'user'")]),s._v(", "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'password'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##备份数据库")]),s._v("\nmongodump --help\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#还原数据库")]),s._v("\nmongorestore -d db_name --directoryperdb  文件夹 --drop\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#导出数据库")]),s._v("\nmongoexport -d db_name -c collection_name --csv -q  -f 字段1,字段2 -o 文件名\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br")])])]),s._v(" "),n("li",[n("p",[s._v("安装memcached"),n("br"),s._v(" "),n("code",[s._v("sudo apt-get install memcached")])])]),s._v(" "),n("li",[n("p",[s._v("安装mysql"),n("br"),s._v(" "),n("code",[s._v("sudo apt-get install mysql-server")])]),s._v(" "),n("div",{staticClass:"language-sh line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##简单配置一下")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##添加用户")]),s._v("\nCREATE "),n("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("USER")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'username'")]),s._v("@"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'host'")]),s._v(" IDENTIFIED BY "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'password'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#CREATE USER 'user1'@'localhost' IDENTIFIED BY '123456';")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##授权")]),s._v("\nGRANT privileges ON databasename.tablename TO "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'username'")]),s._v("@"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'host'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#GRANT ALL ON *.* TO 'user1'@'%'; ")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br")])])]),s._v(" "),n("li",[n("p",[s._v("永久修改主机名"),n("br"),s._v("\n修改主机名是个不错的选择，修改"),n("code",[s._v("/etc/hostname")]),s._v("文件，把文件内容改成想要修改成的主机名，然后最好修改一下"),n("code",[s._v("/etc/hosts")]),s._v("文件加上"),n("code",[s._v("127.0.1.1 name")]),s._v("，这样就不会在你使用的时候老是告诉你说主机没找到什么的")])]),s._v(" "),n("li",[n("p",[s._v("更多。。。")])])])])}),[],!1,null,null,null);a.default=e.exports}}]);