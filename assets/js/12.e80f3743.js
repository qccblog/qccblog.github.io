(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{595:function(a,t,e){"use strict";e.r(t);var s=e(17),r=Object(s.a)({},(function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[e("p",[a._v("因为虚拟机服务器上已经有了Apache2服务器，所以node项目不能直接访问80端口，但是如果部署在服务器上的项目还要加上端口后才能访问感觉有点怪怪的。所以就需要通过Apache2服务器通过代理让某个域名直接访问的是nodejs的端口。")]),a._v(" "),e("h3",{attrs:{id:"环境"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#环境"}},[a._v("#")]),a._v(" 环境")]),a._v(" "),e("p",[a._v("本文是在Ubuntu16.04的Apache2虚拟机环境下实现的。")]),a._v(" "),e("h3",{attrs:{id:"引入相关模块"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#引入相关模块"}},[a._v("#")]),a._v(" 引入相关模块")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[a._v("sudo a2enmod proxy\nsudo a2enmod proxy_http\n")])])]),e("p",[a._v("或者直接手动从"),e("code",[a._v("/etc/apache2/mods-available/")]),a._v("中软链接到"),e("code",[a._v("/etc/apache2/mods-enabled/")]),a._v("中。")]),a._v(" "),e("h3",{attrs:{id:"配置域名"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#配置域名"}},[a._v("#")]),a._v(" 配置域名")]),a._v(" "),e("p",[a._v("在"),e("code",[a._v("/etc/apache2/sites-available/")]),a._v("打开（新建）需要代理的域名的配置文件。")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[a._v("<VirtualHost _default_:80>\n  ServerName www.example.com\n  ProxyPass / http://localhost:3000/\n  ProxyPassReverse / http://localhost:3000/\n</VirtualHost>\n")])])]),e("h3",{attrs:{id:"访问"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#访问"}},[a._v("#")]),a._v(" 访问")]),a._v(" "),e("p",[a._v("配置hosts文件，启动node项目，访问即可。")])])}),[],!1,null,null,null);t.default=r.exports}}]);