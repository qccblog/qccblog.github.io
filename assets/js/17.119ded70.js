(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{600:function(t,s,e){"use strict";e.r(s);var a=e(17),n=Object(a.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("p",[t._v("在ci框架中有3种方法可以设置cookie。")]),t._v(" "),e("p",[t._v("1.原生的php方法")]),t._v(" "),e("p",[t._v("bool "),e("strong",[t._v("setcookie")]),t._v(" ( string "),e("code",[t._v("$name")]),t._v(" [, string "),e("code",[t._v("$value")]),t._v(' = "" [, int '),e("code",[t._v("$expire")]),t._v(" = 0 [, string "),e("code",[t._v("$path")]),t._v(' = "" [, string '),e("code",[t._v("$domain")]),t._v(' = "" [, bool '),e("code",[t._v("$secure")]),t._v(" = false [, bool"),e("code",[t._v("$httponly")]),t._v(" = false ]]]]]] )")]),t._v(" "),e("p",[t._v("相关的参数都比较明显")]),t._v(" "),e("p",[t._v("所以我们可以setcookie(\"username\", 'xx');这样设置。")]),t._v(" "),e("p",[t._v("2.input方法")]),t._v(" "),e("p",[t._v("$this->input->set_cookie(\"username\", 'xx',3600);")]),t._v(" "),e("p",[t._v("3.cookie辅助方法")]),t._v(" "),e("p",[t._v("$this->load->helper('cookie');"),e("br"),t._v("\nset_cookie(\"username\", 'xx',3600);")]),t._v(" "),e("p",[t._v("在使用CI框架自带的这个方法的时候需要注意，如果版本是3.1.3或者其他版本（自己需要试试）在使用方法2和3的时候一定需要填写销毁时间，不然不能正常设置cookie。")]),t._v(" "),e("p",[t._v("其实看代码我们可以发现方法3是调用方法2，方法2调用的是方法1，在调用的过程中进行了一些设置，可以方便使用。")]),t._v(" "),e("p",[t._v("在system/core/Input.php文件中，我们可以看到")]),t._v(" "),e("div",{staticClass:"language-php line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-php"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("is_numeric")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$expire")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$expire")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("time")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("86500")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("velse "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$expire")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$expire")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("time")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$expire")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br")])]),e("p",[t._v("所以当我们没有给$this->input->set_cookie($name, $value = '', $expire = '', $domain = '', $path = '/', $prefix = '', $secure = FALSE, $httponly = FALSE)传递$expire参数的时候是不能正常设置参数的，因为这个方法调用的是php自带的setcookie()方法，在这个方法中，$expire可以传一个time()+的时间表示多久销毁，如果不传或者设置为0的话则表示当前会话，随浏览器关闭而销毁。但是不能传一个time()-的时间，不然就没有实际意义，浏览器也不会存储这个cookie的。")]),t._v(" "),e("p",[t._v("所以要设置cookie的需要注意了，一定要加$expire参数，不然是设置不成功的。")])])}),[],!1,null,null,null);s.default=n.exports}}]);